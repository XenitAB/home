"use strict";(self.webpackChunkhome=self.webpackChunkhome||[]).push([[541],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return f}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(n),f=o,k=p["".concat(l,".").concat(f)]||p[f]||d[f]||i;return n?r.createElement(k,a(a({ref:t},c),{},{components:n})):r.createElement(k,a({ref:t},c))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var u=2;u<i;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3919:function(e,t,n){function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function o(e){return void 0!==e&&!r(e)}n.d(t,{b:function(){return r},Z:function(){return o}})},4996:function(e,t,n){n.d(t,{C:function(){return i},Z:function(){return a}});var r=n(2263),o=n(3919);function i(){var e=(0,r.Z)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,i=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,r){var i=void 0===r?{}:r,a=i.forcePrependBaseUrl,s=void 0!==a&&a,l=i.absolute,u=void 0!==l&&l;if(!n)return n;if(n.startsWith("#"))return n;if((0,o.b)(n))return n;if(s)return t+n;var c=n.startsWith(t)?n:t+n.replace(/^\//,"");return u?e+c:c}(i,n,e,t)}}}function a(e,t){return void 0===t&&(t={}),(0,i().withBaseUrl)(e,t)}},506:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return u},metadata:function(){return c},toc:function(){return d},default:function(){return f}});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),a=n(4996),s=["components"],l={id:"wsl2",title:"Working with XKF from Windows"},u=void 0,c={unversionedId:"xks/developer-guide/wsl2",id:"xks/developer-guide/wsl2",isDocsHomePage:!1,title:"Working with XKF from Windows",description:"The reason for this documentation is that we are using a number of Linux-based tools to be able to have a good integration with Windows, we recommend to use Linux as a base for this.",source:"@site/docs/xks/developer-guide/wsl2.md",sourceDirName:"xks/developer-guide",slug:"/xks/developer-guide/wsl2",permalink:"/docs/xks/developer-guide/wsl2",editUrl:"https://github.com/xenitab/xenitab.github.io/edit/main/docs/xks/developer-guide/wsl2.md",tags:[],version:"current",frontMatter:{id:"wsl2",title:"Working with XKF from Windows"},sidebar:"docs",previous:{title:"Networking",permalink:"/docs/xks/developer-guide/networking"},next:{title:"Overview",permalink:"/docs/xks/operator-guide/index"}},d=[{value:"Installation of WSL2 - Windows Subsystem for Linux",id:"installation-of-wsl2---windows-subsystem-for-linux",children:[],level:2},{value:"Install Docker-Desktop",id:"install-docker-desktop",children:[],level:2},{value:"Utilising Make with WSL2, Terraform and Docker",id:"utilising-make-with-wsl2-terraform-and-docker",children:[],level:2}],p={toc:d};function f(e){var t=e.components,n=(0,o.Z)(e,s);return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The reason for this documentation is that we are using a number of Linux-based tools to be able to have a good integration with Windows, we recommend to use Linux as a base for this.\nThis document is verified using Ubuntu version 20.04 but other distributions will most likely work."),(0,i.kt)("h2",{id:"installation-of-wsl2---windows-subsystem-for-linux"},"Installation of WSL2 - Windows Subsystem for Linux"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows/wsl/install"},"Install via Powershell")),(0,i.kt)("p",null,"Installation is also possible via Microsoft Store. Search for \u201clinux\u201d."),(0,i.kt)("p",null,"Make sure that Windows Subsystem for Linux is enabled as a feature in Windows."),(0,i.kt)("p",null,"In Windows: Go to Control Panel \u2192 Programs and Features."),(0,i.kt)("p",null,"In the left-hand menu, select \u201cTurn Windows features on or off\u201d"),(0,i.kt)("img",{alt:"wsl-enable",src:(0,a.Z)("img/assets/xks/developer-guide/wsl-enable.png")}),(0,i.kt)("h2",{id:"install-docker-desktop"},"Install Docker-Desktop"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.docker.com/products/docker-desktop"},"Download and install Docker.")),(0,i.kt)("p",null,'Once installation is complete, verify that the application works. We experienced issues when trying to start Docker-desktop within a managed organisation using AD accounts, this caused an error with us not being members of a group called \u201cdocker-users\u201c. To solve this, open up \u201cComputer Management\u201d in Windows as an administrator. Navigate to \u201clocal users and groups\u201d \u2192 Groups and locate the "docker-users" group and double-click. Press \u201cAdd\u201d and search for \u201cAuthenticated Users\u201d and add to the group.'),(0,i.kt)("p",null,"Now sign-out from Windows and back in, and Docker application should work."),(0,i.kt)("p",null,"Verify in settings, WSL2 based engine is used."),(0,i.kt)("img",{alt:"docker1",src:(0,a.Z)("img/assets/xks/developer-guide/docker1.png")}),(0,i.kt)("p",null,"Also under settings. Go to Resources \u2192 WSL Integration and verify that you have access to the WSL integration with your installed WSL. In this case Ubuntu and make sure it is checked."),(0,i.kt)("img",{alt:"docker2",src:(0,a.Z)("img/assets/xks/developer-guide/docker2.png")}),(0,i.kt)("p",null,"To verify functionality:"),(0,i.kt)("p",null,"In your Ubuntu WSL2 instance - Run the command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"docker run hello-world\n")),(0,i.kt)("p",null,"Wait for the image to be pulled and if everything works properly the output should be:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Hello from Docker!\nThis message shows that your installation appears to be working correctly.")),(0,i.kt)("h2",{id:"utilising-make-with-wsl2-terraform-and-docker"},"Utilising Make with WSL2, Terraform and Docker"),(0,i.kt)("p",null,"We have noticed when running Terraform from within our Ubuntu instance, that there appears to be som network issues. We saw quite slow network connections. Probably caused by the TCP connection with the following error:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u2502 Error: Failed to install provider\n\u2502\n\u2502 Error while installing hashicorp/azurerm v2.64.0: local error: tls: bad record MAC")),(0,i.kt)("p",null,"We ran the Terraform command again - and it worked perfectly."))}f.isMDXComponent=!0}}]);