<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<title data-react-helmet="true">AKS Core | Xenit</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="AKS Core | Xenit"><meta data-react-helmet="true" name="description" content="This module is used to create AKS clusters."><meta data-react-helmet="true" property="og:description" content="This module is used to create AKS clusters."><meta data-react-helmet="true" property="og:url" content="http://xenitab.github.io/docs/terraform-modules/kubernetes/aks-core"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://xenitab.github.io/docs/terraform-modules/kubernetes/aks-core"><link rel="stylesheet" href="/styles.b2afff22.css">
<link rel="preload" href="/styles.81e8fb32.js" as="script">
<link rel="preload" href="/runtime~main.a7e762db.js" as="script">
<link rel="preload" href="/main.b3b1261f.js" as="script">
<link rel="preload" href="/1.41c7f47a.js" as="script">
<link rel="preload" href="/73.3e153021.js" as="script">
<link rel="preload" href="/74.baf9c095.js" as="script">
<link rel="preload" href="/935f2afb.43e43eba.js" as="script">
<link rel="preload" href="/72.69fda345.js" as="script">
<link rel="preload" href="/40833837.d2ff5fea.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/Xenit_logo_Svart.png" alt="Xenit logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/Xenit_logo_Vit.png" alt="Xenit logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://github.com/XenitAB" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/Xenit_logo_Svart.png" alt="Xenit logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/Xenit_logo_Vit.png" alt="Xenit logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/XenitAB" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">AKS Core</h1></header><div class="markdown"><p>This module is used to create AKS clusters.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="requirements"></a>Requirements<a aria-hidden="true" class="hash-link" href="#requirements" title="Direct link to heading">#</a></h2><table><thead><tr><th>Name</th><th>Version</th></tr></thead><tbody><tr><td><a name="requirement_terraform"></a> <a href="#requirement_terraform">terraform</a></td><td>0.15.3</td></tr><tr><td><a name="requirement_azuread"></a> <a href="#requirement_azuread">azuread</a></td><td>1.6.0</td></tr><tr><td><a name="requirement_azurerm"></a> <a href="#requirement_azurerm">azurerm</a></td><td>2.72.0</td></tr><tr><td><a name="requirement_flux"></a> <a href="#requirement_flux">flux</a></td><td>0.2.2</td></tr><tr><td><a name="requirement_github"></a> <a href="#requirement_github">github</a></td><td>4.13.0</td></tr><tr><td><a name="requirement_helm"></a> <a href="#requirement_helm">helm</a></td><td>2.2.0</td></tr><tr><td><a name="requirement_kubectl"></a> <a href="#requirement_kubectl">kubectl</a></td><td>1.11.3</td></tr><tr><td><a name="requirement_kubernetes"></a> <a href="#requirement_kubernetes">kubernetes</a></td><td>2.4.1</td></tr><tr><td><a name="requirement_random"></a> <a href="#requirement_random">random</a></td><td>3.1.0</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="providers"></a>Providers<a aria-hidden="true" class="hash-link" href="#providers" title="Direct link to heading">#</a></h2><table><thead><tr><th>Name</th><th>Version</th></tr></thead><tbody><tr><td><a name="provider_azurerm"></a> <a href="#provider_azurerm">azurerm</a></td><td>2.72.0</td></tr><tr><td><a name="provider_helm"></a> <a href="#provider_helm">helm</a></td><td>2.2.0</td></tr><tr><td><a name="provider_kubernetes"></a> <a href="#provider_kubernetes">kubernetes</a></td><td>2.4.1</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="modules"></a>Modules<a aria-hidden="true" class="hash-link" href="#modules" title="Direct link to heading">#</a></h2><table><thead><tr><th>Name</th><th>Source</th><th>Version</th></tr></thead><tbody><tr><td><a name="module_aad_pod_identity"></a> <a href="#module_aad_pod_identity">aad_pod_identity</a></td><td>../../kubernetes/aad-pod-identity</td><td>n/a</td></tr><tr><td><a name="module_azad_kube_proxy"></a> <a href="#module_azad_kube_proxy">azad_kube_proxy</a></td><td>../../kubernetes/azad-kube-proxy</td><td>n/a</td></tr><tr><td><a name="module_cert_manager"></a> <a href="#module_cert_manager">cert_manager</a></td><td>../../kubernetes/cert-manager</td><td>n/a</td></tr><tr><td><a name="module_csi_secrets_store_provider_azure"></a> <a href="#module_csi_secrets_store_provider_azure">csi_secrets_store_provider_azure</a></td><td>../../kubernetes/csi-secrets-store-provider-azure</td><td>n/a</td></tr><tr><td><a name="module_datadog"></a> <a href="#module_datadog">datadog</a></td><td>../../kubernetes/datadog</td><td>n/a</td></tr><tr><td><a name="module_external_dns"></a> <a href="#module_external_dns">external_dns</a></td><td>../../kubernetes/external-dns</td><td>n/a</td></tr><tr><td><a name="module_falco"></a> <a href="#module_falco">falco</a></td><td>../../kubernetes/falco</td><td>n/a</td></tr><tr><td><a name="module_fluxcd_v1_azure_devops"></a> <a href="#module_fluxcd_v1_azure_devops">fluxcd_v1_azure_devops</a></td><td>../../kubernetes/fluxcd-v1</td><td>n/a</td></tr><tr><td><a name="module_fluxcd_v2_azure_devops"></a> <a href="#module_fluxcd_v2_azure_devops">fluxcd_v2_azure_devops</a></td><td>../../kubernetes/fluxcd-v2-azdo</td><td>n/a</td></tr><tr><td><a name="module_fluxcd_v2_github"></a> <a href="#module_fluxcd_v2_github">fluxcd_v2_github</a></td><td>../../kubernetes/fluxcd-v2-github</td><td>n/a</td></tr><tr><td><a name="module_goldpinger"></a> <a href="#module_goldpinger">goldpinger</a></td><td>../../kubernetes/goldpinger</td><td>n/a</td></tr><tr><td><a name="module_ingress_healthz"></a> <a href="#module_ingress_healthz">ingress_healthz</a></td><td>../../kubernetes/ingress-healthz</td><td>n/a</td></tr><tr><td><a name="module_ingress_nginx"></a> <a href="#module_ingress_nginx">ingress_nginx</a></td><td>../../kubernetes/ingress-nginx</td><td>n/a</td></tr><tr><td><a name="module_linkerd"></a> <a href="#module_linkerd">linkerd</a></td><td>../../kubernetes/linkerd</td><td>n/a</td></tr><tr><td><a name="module_opa_gatekeeper"></a> <a href="#module_opa_gatekeeper">opa_gatekeeper</a></td><td>../../kubernetes/opa-gatekeeper</td><td>n/a</td></tr><tr><td><a name="module_prometheus"></a> <a href="#module_prometheus">prometheus</a></td><td>../../kubernetes/prometheus</td><td>n/a</td></tr><tr><td><a name="module_reloader"></a> <a href="#module_reloader">reloader</a></td><td>../../kubernetes/reloader</td><td>n/a</td></tr><tr><td><a name="module_velero"></a> <a href="#module_velero">velero</a></td><td>../../kubernetes/velero</td><td>n/a</td></tr><tr><td><a name="module_xenit"></a> <a href="#module_xenit">xenit</a></td><td>../../kubernetes/xenit</td><td>n/a</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="resources"></a>Resources<a aria-hidden="true" class="hash-link" href="#resources" title="Direct link to heading">#</a></h2><table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><a href="https://registry.terraform.io/providers/hashicorp/helm/2.2.0/docs/resources/release" target="_blank" rel="noopener noreferrer">helm_release.aks_core_extras</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/cluster_role" target="_blank" rel="noopener noreferrer">kubernetes_cluster_role.custom_resource_edit</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/cluster_role" target="_blank" rel="noopener noreferrer">kubernetes_cluster_role.helm_release</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/cluster_role" target="_blank" rel="noopener noreferrer">kubernetes_cluster_role.list_namespaces</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/cluster_role_binding" target="_blank" rel="noopener noreferrer">kubernetes_cluster_role_binding.cluster_admin</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/cluster_role_binding" target="_blank" rel="noopener noreferrer">kubernetes_cluster_role_binding.cluster_view</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/cluster_role_binding" target="_blank" rel="noopener noreferrer">kubernetes_cluster_role_binding.edit_list_ns</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/cluster_role_binding" target="_blank" rel="noopener noreferrer">kubernetes_cluster_role_binding.view_list_ns</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/limit_range" target="_blank" rel="noopener noreferrer">kubernetes_limit_range.tenant</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/namespace" target="_blank" rel="noopener noreferrer">kubernetes_namespace.service_accounts</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/namespace" target="_blank" rel="noopener noreferrer">kubernetes_namespace.tenant</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/network_policy" target="_blank" rel="noopener noreferrer">kubernetes_network_policy.tenant</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/role_binding" target="_blank" rel="noopener noreferrer">kubernetes_role_binding.custom_resource_edit</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/role_binding" target="_blank" rel="noopener noreferrer">kubernetes_role_binding.edit</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/role_binding" target="_blank" rel="noopener noreferrer">kubernetes_role_binding.helm_release</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/role_binding" target="_blank" rel="noopener noreferrer">kubernetes_role_binding.sa_edit</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/role_binding" target="_blank" rel="noopener noreferrer">kubernetes_role_binding.sa_helm_release</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/role_binding" target="_blank" rel="noopener noreferrer">kubernetes_role_binding.view</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/kubernetes/2.4.1/docs/resources/service_account" target="_blank" rel="noopener noreferrer">kubernetes_service_account.tenant</a></td><td>resource</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/azurerm/2.72.0/docs/data-sources/client_config" target="_blank" rel="noopener noreferrer">azurerm_client_config.current</a></td><td>data source</td></tr><tr><td><a href="https://registry.terraform.io/providers/hashicorp/azurerm/2.72.0/docs/data-sources/resource_group" target="_blank" rel="noopener noreferrer">azurerm_resource_group.this</a></td><td>data source</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="inputs"></a>Inputs<a aria-hidden="true" class="hash-link" href="#inputs" title="Direct link to heading">#</a></h2><table><thead><tr><th>Name</th><th>Description</th><th>Type</th><th>Default</th><th align="center">Required</th></tr></thead><tbody><tr><td><a name="input_aad_groups"></a> <a href="#input_aad_groups">aad_groups</a></td><td>Configuration for aad groups</td><td><div class="mdxCodeBlock_1XEh">object({<br>    view = map(any)<br>    edit = map(any)<br>    cluster_admin = object({<br>      id   = string<br>      name = string<br>    })<br>    cluster_view = object({<br>      id   = string<br>      name = string<br>    })<br>    aks_managed_identity = object({<br>      id   = string<br>      name = string<br>    })<br>  })</div></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_aad_pod_identity_config"></a> <a href="#input_aad_pod_identity_config">aad_pod_identity_config</a></td><td>Configuration for aad pod identity</td><td><div class="mdxCodeBlock_1XEh">map(object({<br>    id        = string<br>    client_id = string<br>  }))</div></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_aad_pod_identity_enabled"></a> <a href="#input_aad_pod_identity_enabled">aad_pod_identity_enabled</a></td><td>Should aad-pod-identity be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_aks_name_suffix"></a> <a href="#input_aks_name_suffix">aks_name_suffix</a></td><td>The suffix for the aks clusters</td><td><code>number</code></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_azad_kube_proxy_config"></a> <a href="#input_azad_kube_proxy_config">azad_kube_proxy_config</a></td><td>The azad-kube-proxy configuration</td><td><div class="mdxCodeBlock_1XEh">object({<br>    fqdn                  = string<br>    dashboard             = string<br>    azure_ad_group_prefix = string<br>    allowed_ips           = list(string)<br>    azure_ad_app = object({<br>      client_id     = string<br>      client_secret = string<br>      tenant_id     = string<br>    })<br>    k8dash_config = object({<br>      client_id     = string<br>      client_secret = string<br>      scope         = string<br>    })<br>  })</div></td><td><div class="mdxCodeBlock_1XEh">{<br>  &quot;allowed_ips&quot;: [],<br>  &quot;azure_ad_app&quot;: {<br>    &quot;client_id&quot;: &quot;&quot;,<br>    &quot;client_secret&quot;: &quot;&quot;,<br>    &quot;tenant_id&quot;: &quot;&quot;<br>  },<br>  &quot;azure_ad_group_prefix&quot;: &quot;&quot;,<br>  &quot;dashboard&quot;: &quot;&quot;,<br>  &quot;fqdn&quot;: &quot;&quot;,<br>  &quot;k8dash_config&quot;: {<br>    &quot;client_id&quot;: &quot;&quot;,<br>    &quot;client_secret&quot;: &quot;&quot;,<br>    &quot;scope&quot;: &quot;&quot;<br>  }<br>}</div></td><td align="center">no</td></tr><tr><td><a name="input_azad_kube_proxy_enabled"></a> <a href="#input_azad_kube_proxy_enabled">azad_kube_proxy_enabled</a></td><td>Should azad-kube-proxy be enabled</td><td><code>bool</code></td><td><code>false</code></td><td align="center">no</td></tr><tr><td><a name="input_cert_manager_config"></a> <a href="#input_cert_manager_config">cert_manager_config</a></td><td>Cert Manager configuration</td><td><div class="mdxCodeBlock_1XEh">object({<br>    notification_email = string<br>    dns_zone           = string<br>  })</div></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_cert_manager_enabled"></a> <a href="#input_cert_manager_enabled">cert_manager_enabled</a></td><td>Should Cert Manager be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_csi_secrets_store_provider_azure_enabled"></a> <a href="#input_csi_secrets_store_provider_azure_enabled">csi_secrets_store_provider_azure_enabled</a></td><td>Should csi-secrets-store-provider-azure be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_datadog_config"></a> <a href="#input_datadog_config">datadog_config</a></td><td>Datadog configuration</td><td><div class="mdxCodeBlock_1XEh">object({<br>    datadog_site = string<br>    api_key      = string<br>    app_key      = string<br>  })</div></td><td><div class="mdxCodeBlock_1XEh">{<br>  &quot;api_key&quot;: &quot;&quot;,<br>  &quot;app_key&quot;: &quot;&quot;,<br>  &quot;datadog_site&quot;: &quot;&quot;<br>}</div></td><td align="center">no</td></tr><tr><td><a name="input_datadog_enabled"></a> <a href="#input_datadog_enabled">datadog_enabled</a></td><td>Should Datadog be enabled</td><td><code>bool</code></td><td><code>false</code></td><td align="center">no</td></tr><tr><td><a name="input_environment"></a> <a href="#input_environment">environment</a></td><td>The environment name to use for the deploy</td><td><code>string</code></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_external_dns_config"></a> <a href="#input_external_dns_config">external_dns_config</a></td><td>External DNS configuration</td><td><div class="mdxCodeBlock_1XEh">object({<br>    client_id   = string<br>    resource_id = string<br>  })</div></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_external_dns_enabled"></a> <a href="#input_external_dns_enabled">external_dns_enabled</a></td><td>Should External DNS be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_falco_enabled"></a> <a href="#input_falco_enabled">falco_enabled</a></td><td>Should Falco be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_fluxcd_v1_config"></a> <a href="#input_fluxcd_v1_config">fluxcd_v1_config</a></td><td>Configuration for fluxcd-v1</td><td><div class="mdxCodeBlock_1XEh">object({<br>    flux_status_enabled = bool<br>    branch              = string<br>    azure_devops = object({<br>      pat  = string<br>      org  = string<br>      proj = string<br>    })<br>  })</div></td><td><div class="mdxCodeBlock_1XEh">{<br>  &quot;azure_devops&quot;: {<br>    &quot;org&quot;: &quot;&quot;,<br>    &quot;pat&quot;: &quot;&quot;,<br>    &quot;proj&quot;: &quot;&quot;<br>  },<br>  &quot;branch&quot;: &quot;main&quot;,<br>  &quot;flux_status_enabled&quot;: false<br>}</div></td><td align="center">no</td></tr><tr><td><a name="input_fluxcd_v1_enabled"></a> <a href="#input_fluxcd_v1_enabled">fluxcd_v1_enabled</a></td><td>Should fluxcd-v1 be enabled</td><td><code>bool</code></td><td><code>false</code></td><td align="center">no</td></tr><tr><td><a name="input_fluxcd_v2_config"></a> <a href="#input_fluxcd_v2_config">fluxcd_v2_config</a></td><td>Configuration for fluxcd-v2</td><td><div class="mdxCodeBlock_1XEh">object({<br>    type = string<br>    github = object({<br>      owner = string<br>    })<br>    azure_devops = object({<br>      pat  = string<br>      org  = string<br>      proj = string<br>    })<br>  })</div></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_fluxcd_v2_enabled"></a> <a href="#input_fluxcd_v2_enabled">fluxcd_v2_enabled</a></td><td>Should fluxcd-v2 be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_goldpinger_enabled"></a> <a href="#input_goldpinger_enabled">goldpinger_enabled</a></td><td>Should goldpinger be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_ingress_config"></a> <a href="#input_ingress_config">ingress_config</a></td><td>Ingress configuration</td><td><div class="mdxCodeBlock_1XEh">object({<br>    http_snippet = string<br>  })</div></td><td><div class="mdxCodeBlock_1XEh">{<br>  &quot;http_snippet&quot;: &quot;&quot;<br>}</div></td><td align="center">no</td></tr><tr><td><a name="input_ingress_healthz_enabled"></a> <a href="#input_ingress_healthz_enabled">ingress_healthz_enabled</a></td><td>Should ingress-healthz be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_ingress_nginx_enabled"></a> <a href="#input_ingress_nginx_enabled">ingress_nginx_enabled</a></td><td>Should Ingress NGINX be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_kubernetes_default_limit_range"></a> <a href="#input_kubernetes_default_limit_range">kubernetes_default_limit_range</a></td><td>Default limit range for tenant namespaces</td><td><div class="mdxCodeBlock_1XEh">object({<br>    default_request = object({<br>      cpu    = string<br>      memory = string<br>    })<br>    default = object({<br>      memory = string<br>    })<br>  })</div></td><td><div class="mdxCodeBlock_1XEh">{<br>  &quot;default&quot;: {<br>    &quot;memory&quot;: &quot;256Mi&quot;<br>  },<br>  &quot;default_request&quot;: {<br>    &quot;cpu&quot;: &quot;50m&quot;,<br>    &quot;memory&quot;: &quot;32Mi&quot;<br>  }<br>}</div></td><td align="center">no</td></tr><tr><td><a name="input_kubernetes_network_policy_default_deny"></a> <a href="#input_kubernetes_network_policy_default_deny">kubernetes_network_policy_default_deny</a></td><td>If network policies should by default deny cross namespace traffic</td><td><code>bool</code></td><td><code>false</code></td><td align="center">no</td></tr><tr><td><a name="input_linkerd_enabled"></a> <a href="#input_linkerd_enabled">linkerd_enabled</a></td><td>Should linkerd be enabled</td><td><code>bool</code></td><td><code>false</code></td><td align="center">no</td></tr><tr><td><a name="input_location_short"></a> <a href="#input_location_short">location_short</a></td><td>The Azure region short name.</td><td><code>string</code></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_name"></a> <a href="#input_name">name</a></td><td>The commonName to use for the deploy</td><td><code>string</code></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_namespaces"></a> <a href="#input_namespaces">namespaces</a></td><td>The namespaces that should be created in Kubernetes.</td><td><div class="mdxCodeBlock_1XEh">list(<br>    object({<br>      name   = string<br>      labels = map(string)<br>      flux = object({<br>        enabled     = bool<br>        create_crds = bool<br>        azure_devops = object({<br>          org  = string<br>          proj = string<br>          repo = string<br>        })<br>        github = object({<br>          repo = string<br>        })<br>      })<br>    })<br>  )</div></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_opa_gatekeeper_config"></a> <a href="#input_opa_gatekeeper_config">opa_gatekeeper_config</a></td><td>Configuration for OPA Gatekeeper</td><td><div class="mdxCodeBlock_1XEh">object({<br>    additional_excluded_namespaces = list(string)<br>    enable_default_constraints     = bool<br>    additional_constraints = list(object({<br>      excluded_namespaces = list(string)<br>      processes           = list(string)<br>    }))<br>    enable_default_assigns = bool<br>    additional_assigns = list(object({<br>      name = string<br>    }))<br>  })</div></td><td><div class="mdxCodeBlock_1XEh">{<br>  &quot;additional_assigns&quot;: [],<br>  &quot;additional_constraints&quot;: [],<br>  &quot;additional_excluded_namespaces&quot;: [],<br>  &quot;enable_default_assigns&quot;: true,<br>  &quot;enable_default_constraints&quot;: true<br>}</div></td><td align="center">no</td></tr><tr><td><a name="input_opa_gatekeeper_enabled"></a> <a href="#input_opa_gatekeeper_enabled">opa_gatekeeper_enabled</a></td><td>Should OPA Gatekeeper be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_prometheus_config"></a> <a href="#input_prometheus_config">prometheus_config</a></td><td>Configuration for prometheus</td><td><div class="mdxCodeBlock_1XEh">object({<br>    remote_write_enabled = bool<br>    remote_write_url     = string<br>    tenant_id            = string<br><br>    volume_claim_enabled            = bool<br>    volume_claim_storage_class_name = string<br>    volume_claim_size               = string<br><br>    alertmanager_enabled = bool<br><br>    resource_selector  = list(string)<br>    namespace_selector = list(string)<br>  })</div></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_prometheus_enabled"></a> <a href="#input_prometheus_enabled">prometheus_enabled</a></td><td>Should prometheus be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_reloader_enabled"></a> <a href="#input_reloader_enabled">reloader_enabled</a></td><td>Should Reloader be enabled</td><td><code>bool</code></td><td><code>true</code></td><td align="center">no</td></tr><tr><td><a name="input_velero_config"></a> <a href="#input_velero_config">velero_config</a></td><td>Velero configuration</td><td><div class="mdxCodeBlock_1XEh">object({<br>    azure_storage_account_name      = string<br>    azure_storage_account_container = string<br>    identity = object({<br>      client_id   = string<br>      resource_id = string<br>    })<br>  })</div></td><td>n/a</td><td align="center">yes</td></tr><tr><td><a name="input_velero_enabled"></a> <a href="#input_velero_enabled">velero_enabled</a></td><td>Should Velero be enabled</td><td><code>bool</code></td><td><code>false</code></td><td align="center">no</td></tr><tr><td><a name="input_xenit_config"></a> <a href="#input_xenit_config">xenit_config</a></td><td>Xenit Platform configuration</td><td><div class="mdxCodeBlock_1XEh">object({<br>    azure_key_vault_name = string<br>    identity = object({<br>      client_id   = string<br>      resource_id = string<br>      tenant_id   = string<br>    })<br>    thanos_receiver = string<br>    loki_api        = string<br>  })</div></td><td><div class="mdxCodeBlock_1XEh">{<br>  &quot;azure_key_vault_name&quot;: &quot;&quot;,<br>  &quot;identity&quot;: {<br>    &quot;client_id&quot;: &quot;&quot;,<br>    &quot;resource_id&quot;: &quot;&quot;,<br>    &quot;tenant_id&quot;: &quot;&quot;<br>  },<br>  &quot;loki_api&quot;: &quot;&quot;,<br>  &quot;thanos_receiver&quot;: &quot;&quot;<br>}</div></td><td align="center">no</td></tr><tr><td><a name="input_xenit_enabled"></a> <a href="#input_xenit_enabled">xenit_enabled</a></td><td>Should Platform be enabled</td><td><code>bool</code></td><td><code>false</code></td><td align="center">no</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="outputs"></a>Outputs<a aria-hidden="true" class="hash-link" href="#outputs" title="Direct link to heading">#</a></h2><p>No outputs.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/XenitAB/terraform-modules/edit/main/modules/kubernetes/aks-core/README.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link">Requirements</a></li><li><a href="#providers" class="table-of-contents__link">Providers</a></li><li><a href="#modules" class="table-of-contents__link">Modules</a></li><li><a href="#resources" class="table-of-contents__link">Resources</a></li><li><a href="#inputs" class="table-of-contents__link">Inputs</a></li><li><a href="#outputs" class="table-of-contents__link">Outputs</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/styles.81e8fb32.js"></script>
<script src="/runtime~main.a7e762db.js"></script>
<script src="/main.b3b1261f.js"></script>
<script src="/1.41c7f47a.js"></script>
<script src="/73.3e153021.js"></script>
<script src="/74.baf9c095.js"></script>
<script src="/935f2afb.43e43eba.js"></script>
<script src="/72.69fda345.js"></script>
<script src="/40833837.d2ff5fea.js"></script>
</body>
</html>