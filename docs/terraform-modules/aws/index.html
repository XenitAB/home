<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<title data-react-helmet="true">AWS Terraform modules | Xenit</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="AWS Terraform modules | Xenit"><meta data-react-helmet="true" name="description" content="This directory contains all the AWS Terraform modules."><meta data-react-helmet="true" property="og:description" content="This directory contains all the AWS Terraform modules."><meta data-react-helmet="true" property="og:url" content="http://xenitab.github.io/docs/terraform-modules/aws"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://xenitab.github.io/docs/terraform-modules/aws"><link rel="stylesheet" href="/styles.b2afff22.css">
<link rel="preload" href="/styles.84ff222b.js" as="script">
<link rel="preload" href="/runtime~main.b4f38859.js" as="script">
<link rel="preload" href="/main.2a23026a.js" as="script">
<link rel="preload" href="/1.f2c0be16.js" as="script">
<link rel="preload" href="/79.c46b82e0.js" as="script">
<link rel="preload" href="/80.62b7559e.js" as="script">
<link rel="preload" href="/935f2afb.653bcf77.js" as="script">
<link rel="preload" href="/78.a1b9183d.js" as="script">
<link rel="preload" href="/aa29b922.6de702cd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/Xenit_logo_Svart.png" alt="Xenit logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/Xenit_logo_Vit.png" alt="Xenit logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://github.com/XenitAB" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/Xenit_logo_Svart.png" alt="Xenit logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/Xenit_logo_Vit.png" alt="Xenit logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/XenitAB" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">AWS Terraform modules</h1></header><div class="markdown"><p>This directory contains all the AWS Terraform modules.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="modules"></a>Modules<a aria-hidden="true" class="hash-link" href="#modules" title="Direct link to heading">#</a></h2><ul><li><a href="/docs/terraform-modules/aws/core"><code>core</code></a></li><li><a href="/docs/terraform-modules/aws/eks-global"><code>eks-global</code></a></li><li><a href="/docs/terraform-modules/aws/eks"><code>eks</code></a></li><li><a href="/docs/terraform-modules/aws/irsa"><code>irsa</code></a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="style-guide"></a>Style Guide<a aria-hidden="true" class="hash-link" href="#style-guide" title="Direct link to heading">#</a></h2><p>This section covers AWS specific standards that all modules should try to follow to decrease the risk of annoying problems in the future, and to guide
new contributors in how resources should be named. Any changes to this guide should be done together with updating the Terraform.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="names-and-tags"></a>Names and tags<a aria-hidden="true" class="hash-link" href="#names-and-tags" title="Direct link to heading">#</a></h3><p>A quirk of AWS is that there are some resources that are global and other that are regional. On top of that there are resources that get automatically
generated IDs and others that use the given name as a unique ID. That name may either have to be unique within the account or across all AWS accounts
in all regions.</p><p>Global resources with unique names:</p><ul><li>IAM Roles</li><li>IAM Policy</li><li>S3 Bucket</li></ul><p>Regional resources with unique names:</p><ul><li>EKS Clusters</li></ul><p>Any resource that has a generated ID should have tags to distinguish the resources between each other. The following tags should be added to all
resources of this kind. Try to make sure that the values are unique enough that there is no overlap.</p><table><thead><tr><th>Tag</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>Name</td><td>Yes</td><td>Name of the resource, try to convey the purpose or use.</td></tr><tr><td>Environment</td><td>Yes</td><td>Environment the resource is deployed in.</td></tr><tr><td>Module</td><td>Yes</td><td>The name of the Terraform module which has created the resource.</td></tr><tr><td>Cluster</td><td>No</td><td>If the resources is specific to an EKS cluster the cluster name should be entered here.</td></tr><tr><td>Application</td><td>No</td><td>Name of the application the resource may be tightly linked to.</td></tr></tbody></table><p>Resources that are global and require unique names should contain enough unique components to mitigate any name conflicts caused by multi region
deployments. This is especially important for IAM resources. On top of this the resources should also include the tags according to the standard above
but without the name. IAM resources should follow the same naming convention to reduce confusion and mitigate future issues. Keep in mind when naming
things that the name limit of IAM resources is 128 characters. Each IAM resource should follow the same convention, starting with a name prefix, the
region, and the environment.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;name-prefix&gt;-&lt;aws-region&gt;-&lt;environment&gt;-&lt;resource-name&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">or</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;name-prefix&gt;-&lt;aws-region&gt;-&lt;environment&gt;-&lt;resource-name&gt;&lt;instance-id&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>For S3 buckets its is a good idea to use the same naming convention but also include the <code>unique_suffix</code> to make sure that there are no other conflicts.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;name-prefix&gt;-&lt;aws-region&gt;-&lt;environment&gt;-&lt;resource-name&gt;-&lt;unique-suffix&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Lastly resources that are regional but require a unique name should include the environment in the name.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;resouce-name&gt;&lt;instance-id&gt;-&lt;environment&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/XenitAB/terraform-modules/edit/main/modules/aws/README.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#modules" class="table-of-contents__link">Modules</a></li><li><a href="#style-guide" class="table-of-contents__link">Style Guide</a><ul><li><a href="#names-and-tags" class="table-of-contents__link">Names and tags</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/styles.84ff222b.js"></script>
<script src="/runtime~main.b4f38859.js"></script>
<script src="/main.2a23026a.js"></script>
<script src="/1.f2c0be16.js"></script>
<script src="/79.c46b82e0.js"></script>
<script src="/80.62b7559e.js"></script>
<script src="/935f2afb.653bcf77.js"></script>
<script src="/78.a1b9183d.js"></script>
<script src="/aa29b922.6de702cd.js"></script>
</body>
</html>